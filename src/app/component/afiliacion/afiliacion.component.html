<div *ngIf="isLoading">
  <app-loading></app-loading>
</div>
<div *ngIf="!isLoading">
  <div class="container" style="width: 70%">
    <p class="solicitud-header">Solicitud de afiliación</p>
  </div>
  <div class="container afiliacion-container card" style="width: 70%">
    <form [formGroup]="solicitudForm" (ngSubmit)="onSubmit()" novalidate>
      <div class="card-body">
        <mat-stepper>
          <mat-step label="Información básica" state="phone">
            <div class="form-group">
              <label for="inputName">Nombre del taller</label>
              <input
                type="text"
                class="form-control"
                id="inputName"
                placeholder="Nombre del taller"
                name="name"
                formControlName="name"
              />
            </div>
            <div class="form-group">
              <label for="inputAddress">Dirección</label>
              <input
                type="text"
                class="form-control"
                id="inputAddress"
                placeholder="Dirección"
                placeholder="Dirección"
                name="address"
                formControlName="address"
              />
            </div>
            <div class="form-group">
              <label for="inputPhone">Teléfono</label>
              <input
                type="phone"
                class="form-control"
                id="inputPhone"
                aria-describedby="emailHelp"
                placeholder="Teléfono"
                name="phone"
                formControlName="phone"
              />
            </div>
            <div>
              <button mat-button matStepperNext type="button">Siguiente</button>
            </div>
          </mat-step>

          <mat-step label="Horario y servicios">
            <div class="row">
              <p>Horario de atención:</p>
              <div class="col">
                <div class="form-group">
                  <label for="inputName">De</label>
                  <input
                    type="hour"
                    class="form-control"
                    id="inputName"
                    placeholder="Horario de inicio"
                    name="open_hour"
                    formControlName="open_hour"
                  />
                </div>
              </div>
              <div class="col">
                <div class="form-group">
                  <label for="inputLastName">Hasta</label>
                  <input
                    type="hour"
                    class="form-control"
                    id="inputLastName"
                    placeholder="Horario de cierre"
                    name="close_hour"
                    formControlName="close_hour"
                  />
                </div>
              </div>
            </div>
            <div class="row justify-content-md-center">
              <div class="col-12 mt-3">
                <p>Servicios que ofrece:</p>
              </div>
              <div class="col-6" *ngFor="let item of serv; let i = index">
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    [value]="item.value"
                    (change)="onCheckboxChange($event)"
                  />
                  <label class="form-check-label" for="mecanicaCheck">
                    {{ item.name }}
                  </label>
                </div>
              </div>
              <div class="col-6">
                <div class="form-group">
                  <label for="otroInput">Otro</label>
                  <input
                    type="text"
                    class="form-control"
                    id="otroInput"
                    placeholder="Otro"
                    name="otro"
                    formControlName="otro"
                  />
                </div>
                <span>Sepáre con una coma para agregar más</span>
              </div>
            </div>
            <div>
              <button mat-button matStepperPrevious type="button">
                Regresar
              </button>
              <button mat-button matStepperNext type="button">Siguiente</button>
            </div>
          </mat-step>

          <mat-step label="Redes sociales y certificado">
            <p>Redes sociales:</p>
            <div class="input-group mb-3">
              <div class="input-group-prepend">
                <span class="input-group-text" id="facebook">
                  <mat-icon>travel_explore</mat-icon>
                </span>
              </div>
              <input
                type="text"
                class="form-control"
                placeholder="Facebook"
                aria-label="Facebook"
                aria-describedby="facebook"
                name="facebook"
                formControlName="facebook"
              />
            </div>
            <div class="input-group mb-3">
              <div class="input-group-prepend">
                <span class="input-group-text" id="instagram">
                  <mat-icon>travel_explore</mat-icon>
                </span>
              </div>
              <input
                type="text"
                class="form-control"
                placeholder="Instagram"
                aria-label="Instagram"
                aria-describedby="instagram"
                name="instagram"
                formControlName="instagram"
              />
            </div>
            <p>Certificado</p>
            <div class="custom-file">
              <input
                type="file"
                class="custom-file-input"
                id="customFile"
                (change)="onFileSelect($event)"
              />
              <label class="custom-file-label" for="customFile"
                >Choose file</label
              >
            </div>
            <div>
              <button mat-button matStepperPrevious>Regresar</button>
              <button mat-button type="submit">Enviar</button>
            </div>
          </mat-step>
        </mat-stepper>
      </div>
    </form>
  </div>
</div>
